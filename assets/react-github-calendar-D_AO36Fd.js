import{r as j}from"./react-DUmIWLMH.js";import{b as G}from"./react-activity-calendar-CzFNbQLM.js";var h={};Object.defineProperty(h,"__esModule",{value:!0});var n=j,g=G;function m(e){return e&&e.__esModule?e:{default:e}}var u=m(n),R=m(g);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},i.apply(null,arguments)}const O="https://github-contributions-api.jogruber.de/v4/",H={light:["#ebedf0","#9be9a8","#40c463","#30a14e","#216e39"],dark:["#161b22","#0e4429","#006d32","#26a641","#39d353"]},L=(e,a)=>{if(typeof a!="function")return e;const r=a(e);if(!Array.isArray(r))throw Error("Passed function transformData must return a list of Day objects.");if(r.length>0){const t=r[0];if(typeof t.count!="number"||t.count<0)throw Error(`Required property "count: number" missing or invalid. Got: ${t.count}`);if(!/\d{4}-\d{2}-\d{2}/.test(t.date))throw Error(`Required property "date: YYYY-MM-DD" missing or invalid. Got: ${t.date}`);if(typeof t.level!="number"||t.level<0||t.level>4)throw Error(`Required property "level: 0 | 1 | 2 | 3 | 4" missing or invalid: Got: ${t.level}.`)}return r};async function M(e,a){const r=await fetch(`${O}${e}?y=${a}`),t=await r.json();if(!r.ok)throw Error(`Fetching GitHub contribution data for "${e}" failed: ${t.error}`);return t}const v=n.forwardRef(({username:e,year:a="last",labels:r,transformData:t,transformTotalCount:p=!0,throwOnError:E=!1,errorMessage:y=`Error â€“ Fetching GitHub contribution data for "${e}" failed.`,...o},_)=>{const[l,D]=n.useState(null),[s,d]=n.useState(!1),[f,c]=n.useState(null),b=n.useCallback(()=>{d(!0),c(null),M(e,a).then(D).catch(c).finally(()=>d(!1))},[e,a]);if(n.useEffect(b,[b]),f){if(E)throw f;return u.default.createElement("div",null,y)}if(s||!l)return u.default.createElement(g.Skeleton,i({},o,{loading:!0}));const $=o.theme??H,w={totalCount:`{{count}} contributions in ${a==="last"?"the last year":"{{year}}"}`},C=a==="last"?l.total.lastYear:l.total[a];return u.default.createElement(R.default,i({data:L(l.contributions,t),labels:Object.assign({},w,r),ref:_,theme:$,totalCount:t&&p?void 0:C},o,{loading:!!o.loading||s,maxLevel:4}))});v.displayName="GitHubCalendar";var x=h.default=v;export{x as _};
